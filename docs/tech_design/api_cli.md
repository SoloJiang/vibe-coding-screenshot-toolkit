# api_cli 模块技术设计

## 职责
提供交互式截图的命令行入口，专注于框选截图功能的验证和使用。

## 命令
- **capture-interactive**：交互式框选截图，支持多显示器环境

### 交互式截图命令详细
- **功能**：启动 GUI 框选器，用户选择区域后自动截图并保存
- **多显示器支持**：自动检测多显示器环境，在主显示器上进行交互
- **输出**：支持自定义输出目录和命名模板
- **格式**：输出 PNG 格式图片

### 命名模板
支持以下变量：
- `{date}`: 日期时间戳
- `{seq}`: 序列号
- 示例：`Screenshot-{date:yyyyMMdd-HHmmss}-{seq}` → `Screenshot-20240921-143022-001.png`

## 输出
- 标准输出：成功时显示保存路径，失败时显示错误信息
- 退出代码：0=成功，1=导出失败，2=交互取消，3=平台不支持

## 风险
| 风险 | 缓解 |
|------|------|
| 终端权限/屏幕录制权限不足 | 明确报错并提示授权路径 |
| 用户取消交互 | 友好的退出消息和退出代码 |
